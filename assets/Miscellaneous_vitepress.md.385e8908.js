import{_ as s,o as n,c as a,Q as e}from"./chunks/framework.8218e65d.js";const p="/assets/adasda1sda5sd1651da3sd1.e1aa0634.png",l="/assets/asdhlaskdhllaksdhlakshd516513513513.21f98705.png",o="/assets/alsdhakhdlakjdhlksdnlnknl.32e29ace.png",u=JSON.parse('{"title":"VitePress","description":"","frontmatter":{},"headers":[],"relativePath":"Miscellaneous/vitepress.md","filePath":"Miscellaneous/vitepress.md","lastUpdated":1699082320000}'),t={name:"Miscellaneous/vitepress.md"},r=e(`<h1 id="vitepress" tabindex="-1">VitePress <a class="header-anchor" href="#vitepress" aria-label="Permalink to &quot;VitePress&quot;">​</a></h1><h2 id="vitepress-的路径别名" tabindex="-1">VitePress 的路径别名 <a class="header-anchor" href="#vitepress-的路径别名" aria-label="Permalink to &quot;VitePress 的路径别名&quot;">​</a></h2><p>在.vitepress 的 config 配置中添加 vite 配置</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">defineConfig</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;vitepress&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">resolve</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">join</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;node:path&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">default</span><span style="color:#ABB2BF;"> () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">pathAlias</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">string</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">resolve</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">join</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">__dirname</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">defineConfig</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">vite</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">resolve</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E06C75;">alias</span><span style="color:#ABB2BF;">: {</span></span>
<span class="line"><span style="color:#ABB2BF;">          </span><span style="color:#98C379;">&#39;/~&#39;</span><span style="color:#ABB2BF;">: </span><span style="color:#61AFEF;">pathAlias</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;../components&#39;</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#ABB2BF;">        },</span></span>
<span class="line"><span style="color:#ABB2BF;">      },</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#ABB2BF;">  });</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><div class="danger custom-block"><p class="custom-block-title">注意：</p><p>路径的别名不能使用 <code>@</code> 或 <code>#</code> 这两个符号，在 vitepress 内部已经使用了，经过测试不能覆盖</p><p>所以不要使用，换其他符号</p></div><h2 id="环境变量注意情况" tabindex="-1">环境变量注意情况 <a class="header-anchor" href="#环境变量注意情况" aria-label="Permalink to &quot;环境变量注意情况&quot;">​</a></h2><p><code>vite</code> 可以使用 <code>.env</code> 文件的方式来配置环境变量，在 <code>scr/</code> 下任何地方都可以使用 <code>i<wbr>mport.meta.env</code> 来读取配置变量， 但是在 <code>vitepress</code> 中如果你想在使用 <code>i<wbr>mport.meta.env</code> 并不能读取到自定义的配置，只能读取到由 <code>vite</code> 默认的变量，如下图</p><p><img src="`+p+`" alt="png"></p><p>当然，你想读取到还是有办法的，经过不断的探索可以在文件直接对 <code>i<wbr>mport.meta.env</code> 进行赋值</p><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">setup</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">meta</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">env</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">VITE_BASE</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;VITE_BASE&#39;</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">env</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">meta</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">env</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">env</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这样是可以访问到自定义的配置</p><p><img src="`+l+'" alt="png"></p><div class="tip custom-block"><p class="custom-block-title">原理</p><p><code>vite</code> 对于 <code>i<wbr>mport.meta.env</code> 是采用了 <strong><code>静态替换</code></strong></p><blockquote><p>静态替换：对 <code>i<wbr>mport.meta.env</code> 的字符串直接 替换成 <strong><code>对象</code></strong> 形式 <code>vite</code> 会收集 <code>i<wbr>mport.meta.env</code> 的代码块， 解析后进行 <strong><code>静态替换</code></strong><img src="'+o+'" alt="静态替换"></p></blockquote><p>也就说明了上面的方法可以实现的原因，</p></div><p>所以其实也可以使用 <code>vite</code> 开发一个插件直接把所有带有 <code>i<wbr>mport.meta.env</code> 的文件插入赋值语句这就可以码字了</p><p>插件：<a href="./../Buildtools/Vite#vite-插件-vitrpress-importmetaurl静态注入"><code>vite插件：Vitepress 全局注入.env变量</code></a></p>',15),c=[r];function B(i,d,y,m,A,F){return n(),a("div",null,c)}const v=s(t,[["render",B]]);export{u as __pageData,v as default};
