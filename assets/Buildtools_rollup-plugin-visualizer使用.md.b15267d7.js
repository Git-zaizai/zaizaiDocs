import{_ as n,o as l,c as p,k as s,a as e,t as o,Q as t}from"./chunks/framework.4d982d65.js";const r="/zaizaiDocs/assets/rollup-plugin-visualizer使用-2023-02-27-14-28-03.6ae9d288.png",c="/zaizaiDocs/assets/rollup-plugin-visualizer使用-2023-02-27-14-30-28.8592dc05.png",i="/zaizaiDocs/assets/rollup-plugin-visualizer使用-2023-02-27-14-34-46.465592da.png",B="/zaizaiDocs/assets/rollup-plugin-visualizer使用-2023-02-27-14-37-45.3262923c.png",y="/zaizaiDocs/assets/rollup-plugin-visualizer使用-2023-02-27-14-39-44.105da060.png",_=JSON.parse('{"title":"rollup-plugin-visualizer使用","description":"","frontmatter":{"title":"rollup-plugin-visualizer使用"},"headers":[],"relativePath":"Buildtools/rollup-plugin-visualizer使用.md","filePath":"Buildtools/rollup-plugin-visualizer使用.md","lastUpdated":1724517484000}'),u={name:"Buildtools/rollup-plugin-visualizer使用.md"},d={id:"frontmatter-title",tabindex:"-1"},F=s("a",{class:"header-anchor",href:"#frontmatter-title","aria-label":'Permalink to "{{$frontmatter.title}}"'},"​",-1),b=t(`<h2 id="安装与配置" tabindex="-1">安装与配置 <a class="header-anchor" href="#安装与配置" aria-label="Permalink to &quot;安装与配置&quot;">​</a></h2><p>安装</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">pnpm</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">add</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">rollup-plugin-visualizer</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">-D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>配置</p><p><code>vite.config.ts</code></p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">visualizer</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;rollup-plugin-visualizer&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">default</span><span style="color:#ABB2BF;"> ({ </span><span style="color:#E06C75;font-style:italic;">command</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">mode</span><span style="color:#ABB2BF;"> }: </span><span style="color:#E5C07B;">ConfigEnv</span><span style="color:#ABB2BF;">): </span><span style="color:#E5C07B;">UserConfigExport</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">plubins</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#61AFEF;">visualizer</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E06C75;">filename</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;./node_modules/.cache/visualizer/stats.html&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E06C75;">open</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E06C75;">gzipSize</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E06C75;">brotliSize</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">true</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#7F848E;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">         * 图表类型</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">         * 默认: treemap</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">         *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">         * 可选值: treemap, sunburst, network, raw-data, list</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">         *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">         * sunburst, treemap: 用于查找大bundle</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">         */</span></span>
<span class="line"><span style="color:#ABB2BF;">        </span><span style="color:#E06C75;">template</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;treemap&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">      }),</span></span>
<span class="line"><span style="color:#ABB2BF;">    ],</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="查找-重点" tabindex="-1">查找(重点) <a class="header-anchor" href="#查找-重点" aria-label="Permalink to &quot;查找(重点)&quot;">​</a></h2><p>他的 include 和 exclude 的语法用的是: <a href="https://github.com/micromatch/picomatch" target="_blank" rel="noreferrer">picomatch</a></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">pm</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">require</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;picomatch&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">isMatch</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">pm</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;*.js&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">isMatch</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;abcd&#39;</span><span style="color:#ABB2BF;">)) </span><span style="color:#7F848E;font-style:italic;">//=&gt; false</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">isMatch</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;a.js&#39;</span><span style="color:#ABB2BF;">)) </span><span style="color:#7F848E;font-style:italic;">//=&gt; true</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">isMatch</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;a.md&#39;</span><span style="color:#ABB2BF;">)) </span><span style="color:#7F848E;font-style:italic;">//=&gt; false</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">isMatch</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;a/b.js&#39;</span><span style="color:#ABB2BF;">)) </span><span style="color:#7F848E;font-style:italic;">//=&gt; false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">picomatch</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">require</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;picomatch&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// picomatch(glob[, options]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">isMatch</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">picomatch</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;*.!(*a)&#39;</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">isMatch</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;a.a&#39;</span><span style="color:#ABB2BF;">)) </span><span style="color:#7F848E;font-style:italic;">//=&gt; false</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">isMatch</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;a.b&#39;</span><span style="color:#ABB2BF;">)) </span><span style="color:#7F848E;font-style:italic;">//=&gt; true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="实际使用" tabindex="-1">实际使用 <a class="header-anchor" href="#实际使用" aria-label="Permalink to &quot;实际使用&quot;">​</a></h3><h4 id="查看指定包是否被重复打包" tabindex="-1">查看指定包是否被重复打包 <a class="header-anchor" href="#查看指定包是否被重复打包" aria-label="Permalink to &quot;查看指定包是否被重复打包&quot;">​</a></h4><ul><li>查看<code>mitt</code>包是否被重复打包</li></ul><p>include: <code>**/mitt/**</code></p><ul><li>查看<code>dayjs</code>包是否被重复打包</li></ul><p>include: <code>**/dayjs/**</code></p><ul><li>查看<code>@pzy915/backend-layout</code>包是否被重复打包</li></ul><p>include: <code>**/@pzy915/backend-layout/**</code></p><ul><li>查看<code>element-plus</code>包是否被重复打包</li></ul><p>include: <code>**/element-plus/**</code></p><p><img src="`+r+'" alt=""></p><h4 id="查看指定文件是否被重复引用" tabindex="-1">查看指定文件是否被重复引用 <a class="header-anchor" href="#查看指定文件是否被重复引用" aria-label="Permalink to &quot;查看指定文件是否被重复引用&quot;">​</a></h4><p>include: <code>**/SearchFormStructWrapper.vue*</code></p><p><img src="'+c+'" alt=""></p><h4 id="查看指定第三方包在特定-bunlde-中是哪个文件对他进行了引用" tabindex="-1">查看指定第三方包在特定 bunlde 中是哪个文件对他进行了引用 <a class="header-anchor" href="#查看指定第三方包在特定-bunlde-中是哪个文件对他进行了引用" aria-label="Permalink to &quot;查看指定第三方包在特定 bunlde 中是哪个文件对他进行了引用&quot;">​</a></h4><p>下图可以看出<code>mitt</code>包在名为<code>vendor</code>的 boundle 中的<code>@pzy915/router-tabs</code>组件的<code>router-tabs.js</code>文件中被引用</p><p><img src="'+i+'" alt=""></p><p>下图可以看出<code>mitt</code>包在名为<code>vue</code>的 boundle 中的<code>src/util/emitter.ts</code>文件中被引用</p><p><img src="'+B+'" alt=""></p><h4 id="查看某个特定-bundle-的大小" tabindex="-1">查看某个特定 bundle 的大小 <a class="header-anchor" href="#查看某个特定-bundle-的大小" aria-label="Permalink to &quot;查看某个特定 bundle 的大小&quot;">​</a></h4><p><img src="'+y+'" alt=""></p>',31);function m(a,A,h,C,E,g){return l(),p("div",null,[s("h1",d,[e(o(a.$frontmatter.title)+" ",1),F]),b])}const v=n(u,[["render",m]]);export{_ as __pageData,v as default};
