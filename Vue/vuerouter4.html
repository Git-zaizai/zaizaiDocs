<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue Router 4 | 崽崽哟 | (っ´Ι`)っ</title>
    <meta name="description" content="崽崽的成长之路，包含前端常用知识、源码阅读笔记、各种奇淫技巧、日常提效工具等">
    <link rel="preload stylesheet" href="/assets/style.f5148bb2.css" as="style">
    
    <script type="module" src="/assets/app.22a0c1ef.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.8218e65d.js">
    <link rel="modulepreload" href="/assets/chunks/theme.f78d91bb.js">
    <link rel="modulepreload" href="/assets/Vue_vuerouter4.md.2318b9ce.lean.js">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/favicon.ico">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="mask-icon" href="/favicon.ico" color="#3eaf7c">
    <meta name="msapplication-TileImage" content="/favicon.ico">
    <meta name="msapplication-TileColor" content="#000000">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"dark",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1cbc827d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-7bcd1ba7></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-7bcd1ba7> Skip to content </a><!--]--><!----><header class="VPNav" data-v-1cbc827d data-v-a0e03834><div class="VPNavBar has-sidebar" data-v-a0e03834 data-v-07edb3e4><div class="container" data-v-07edb3e4><div class="title" data-v-07edb3e4><div class="VPNavBarTitle has-sidebar" data-v-07edb3e4 data-v-334cd02c><a class="title" href="/" data-v-334cd02c><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-b5a8134e><!--]--><!--[-->崽崽哟 | (っ´Ι`)っ<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-07edb3e4><div class="curtain" data-v-07edb3e4></div><div class="content-body" data-v-07edb3e4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-07edb3e4><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-07edb3e4 data-v-a4a67f35><span id="main-nav-aria-label" class="visually-hidden" data-v-a4a67f35>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/nav/" tabindex="0" data-v-a4a67f35 data-v-b0b58d31><!--[--><span data-v-b0b58d31>导航-></span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a4a67f35 data-v-d31043aa><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d31043aa><span class="text" data-v-d31043aa><!----><span data-v-d31043aa>随笔记</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-d31043aa><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-d31043aa><div class="VPMenu" data-v-d31043aa data-v-558e3e13><div class="items" data-v-558e3e13><!--[--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/notes/%E6%B2%B9%E7%8C%B4API%E6%96%87%E6%A1%A3" data-v-64e369cc><!--[-->油猴<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a4a67f35 data-v-d31043aa><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d31043aa><span class="text" data-v-d31043aa><!----><span data-v-d31043aa>前端物语</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-d31043aa><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-d31043aa><div class="VPMenu" data-v-d31043aa data-v-558e3e13><div class="items" data-v-558e3e13><!--[--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/HTML/" data-v-64e369cc><!--[-->HTML<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/CSS/" data-v-64e369cc><!--[-->CSS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/JavaScript/index" data-v-64e369cc><!--[-->JavaScript<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/JavaScript/AJAX" data-v-64e369cc><!--[-->AJAX<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/JavaScript/jQuery" data-v-64e369cc><!--[-->jQuery<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/TypeScript/" data-v-64e369cc><!--[-->TypeScript<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/Vue/" data-v-64e369cc><!--[-->Vue<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/React/" data-v-64e369cc><!--[-->React<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/uni-app/index" data-v-64e369cc><!--[-->uni-app<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/Buildtools/Webpack" data-v-64e369cc><!--[-->Webpack<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/Buildtools/Vite" data-v-64e369cc><!--[-->Vite<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a4a67f35 data-v-d31043aa><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d31043aa><span class="text" data-v-d31043aa><!----><span data-v-d31043aa>工具物语</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-d31043aa><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-d31043aa><div class="VPMenu" data-v-d31043aa data-v-558e3e13><div class="items" data-v-558e3e13><!--[--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/Tools/lodash" data-v-64e369cc><!--[-->lodash<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/Tools/axios" data-v-64e369cc><!--[-->axios<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a4a67f35 data-v-d31043aa><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d31043aa><span class="text" data-v-d31043aa><!----><span data-v-d31043aa>后端.?node</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-d31043aa><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-d31043aa><div class="VPMenu" data-v-d31043aa data-v-558e3e13><div class="items" data-v-558e3e13><!--[--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/Backend/" data-v-64e369cc><!--[-->Node.js<!--]--></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-558e3e13 data-v-2a80a370><p class="title" data-v-2a80a370>数据库</p><!--[--><!--[--><div class="VPMenuLink" data-v-2a80a370 data-v-64e369cc><a class="VPLink link" href="/Backend/Mongodb" data-v-64e369cc><!--[-->Mongodb<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-2a80a370 data-v-64e369cc><a class="VPLink link" href="/Backend/MySQL" data-v-64e369cc><!--[-->MySQL<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-a4a67f35 data-v-d31043aa><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d31043aa><span class="text" data-v-d31043aa><!----><span data-v-d31043aa>杂七杂八的知识或工具</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-d31043aa><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-d31043aa><div class="VPMenu" data-v-d31043aa data-v-558e3e13><div class="items" data-v-558e3e13><!--[--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/Miscellaneous/git/git" data-v-64e369cc><!--[-->Git<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/Miscellaneous/git/github%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2" data-v-64e369cc><!--[-->github自动化部署<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/npm/" data-v-64e369cc><!--[-->npm/yran/pnpm<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/Puppeteer/" data-v-64e369cc><!--[-->Puppeteer<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/Miscellaneous/vitepress" data-v-64e369cc><!--[-->VitePress<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-558e3e13 data-v-64e369cc><a class="VPLink link" href="/Miscellaneous/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9F%A5%E8%AF%86" data-v-64e369cc><!--[-->浏览器知识<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-07edb3e4 data-v-a5ef1d19><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-a5ef1d19 data-v-0d869282 data-v-288c113a><span class="check" data-v-288c113a><span class="icon" data-v-288c113a><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-0d869282><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-0d869282><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-07edb3e4 data-v-5bd0073f data-v-fd648b97><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-fd648b97 data-v-751fdd06><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-07edb3e4 data-v-db317b24 data-v-d31043aa><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-d31043aa><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-d31043aa><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-d31043aa><div class="VPMenu" data-v-d31043aa data-v-558e3e13><!----><!--[--><!--[--><!----><div class="group" data-v-db317b24><div class="item appearance" data-v-db317b24><p class="label" data-v-db317b24>外观</p><div class="appearance-action" data-v-db317b24><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-db317b24 data-v-0d869282 data-v-288c113a><span class="check" data-v-288c113a><span class="icon" data-v-288c113a><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-0d869282><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-0d869282><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-db317b24><div class="item social-links" data-v-db317b24><div class="VPSocialLinks social-links-list" data-v-db317b24 data-v-fd648b97><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-fd648b97 data-v-751fdd06><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-07edb3e4 data-v-d8bd73cc><span class="container" data-v-d8bd73cc><span class="top" data-v-d8bd73cc></span><span class="middle" data-v-d8bd73cc></span><span class="bottom" data-v-d8bd73cc></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-1cbc827d data-v-64bf7637><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-64bf7637><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-64bf7637><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-64bf7637>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-64bf7637 data-v-6d0bf864><button data-v-6d0bf864>返回顶部</button><!----></div></div><aside class="VPSidebar" data-v-1cbc827d data-v-39f397a6><div class="curtain" data-v-39f397a6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-39f397a6><span class="visually-hidden" id="sidebar-aria-label" data-v-39f397a6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-39f397a6><section class="VPSidebarItem level-0 has-active" data-v-39f397a6 data-v-20588ef3><div class="item" role="button" tabindex="0" data-v-20588ef3><div class="indicator" data-v-20588ef3></div><h2 class="text" data-v-20588ef3>Vue 全家桶</h2><!----></div><div class="items" data-v-20588ef3><!--[--><div class="VPSidebarItem level-1 is-link" data-v-20588ef3 data-v-20588ef3><div class="item" data-v-20588ef3><div class="indicator" data-v-20588ef3></div><a class="VPLink link link" href="/Vue/Vue3" data-v-20588ef3><!--[--><p class="text" data-v-20588ef3>Vue3</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-20588ef3 data-v-20588ef3><div class="item" data-v-20588ef3><div class="indicator" data-v-20588ef3></div><a class="VPLink link link" href="/Vue/Vue2" data-v-20588ef3><!--[--><p class="text" data-v-20588ef3>Vue2</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 has-active" data-v-20588ef3 data-v-20588ef3><div class="item" role="button" tabindex="0" data-v-20588ef3><div class="indicator" data-v-20588ef3></div><h3 class="text" data-v-20588ef3>Vue Router</h3><!----></div><div class="items" data-v-20588ef3><!--[--><div class="VPSidebarItem level-2 is-link" data-v-20588ef3 data-v-20588ef3><div class="item" data-v-20588ef3><div class="indicator" data-v-20588ef3></div><a class="VPLink link link" href="/Vue/vuerouter" data-v-20588ef3><!--[--><p class="text" data-v-20588ef3>Vue Router</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-20588ef3 data-v-20588ef3><div class="item" data-v-20588ef3><div class="indicator" data-v-20588ef3></div><a class="VPLink link link" href="/Vue/vuerouter4" data-v-20588ef3><!--[--><p class="text" data-v-20588ef3>Vue Router 4</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-20588ef3 data-v-20588ef3><div class="item" data-v-20588ef3><div class="indicator" data-v-20588ef3></div><a class="VPLink link link" href="/Vue/Vuex" data-v-20588ef3><!--[--><p class="text" data-v-20588ef3>Vuex</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-20588ef3 data-v-20588ef3><div class="item" data-v-20588ef3><div class="indicator" data-v-20588ef3></div><a class="VPLink link link" href="/Vue/Pinia" data-v-20588ef3><!--[--><p class="text" data-v-20588ef3>Pinia</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-39f397a6><section class="VPSidebarItem level-0" data-v-39f397a6 data-v-20588ef3><div class="item" role="button" tabindex="0" data-v-20588ef3><div class="indicator" data-v-20588ef3></div><h2 class="text" data-v-20588ef3>Vue 工具库</h2><!----></div><div class="items" data-v-20588ef3><!--[--><div class="VPSidebarItem level-1 is-link" data-v-20588ef3 data-v-20588ef3><div class="item" data-v-20588ef3><div class="indicator" data-v-20588ef3></div><a class="VPLink link link" href="/VueUse" data-v-20588ef3><!--[--><p class="text" data-v-20588ef3>VueUse</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-1cbc827d data-v-de5a0b4f><div class="VPDoc has-sidebar has-aside" data-v-de5a0b4f data-v-11626981><!--[--><!--]--><div class="container" data-v-11626981><div class="aside" data-v-11626981><div class="aside-curtain" data-v-11626981></div><div class="aside-container" data-v-11626981><div class="aside-content" data-v-11626981><div class="VPDocAside" data-v-11626981 data-v-243f3150><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-243f3150 data-v-e10eefa8><div class="content" data-v-e10eefa8><div class="outline-marker" data-v-e10eefa8></div><div class="outline-title" role="heading" aria-level="2" data-v-e10eefa8>本页目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-e10eefa8><span class="visually-hidden" id="doc-outline-aria-label" data-v-e10eefa8> Table of Contents for current page </span><ul class="root" data-v-e10eefa8 data-v-6e85ca18><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-243f3150></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-11626981><div class="content-container" data-v-11626981><!--[--><!--]--><!----><main class="main" data-v-11626981><div style="position:relative;" class="vp-doc _Vue_vuerouter4" data-v-11626981><div><h1 id="vue-router-4" tabindex="-1">Vue Router 4 <a class="header-anchor" href="#vue-router-4" aria-label="Permalink to &quot;Vue Router 4&quot;">​</a></h1><p>vue3x 发布的同时，<code>Vue Router</code> 也升级成为了 4x 版本。</p><p>虽然进行了大更新，但是大部分的 <code>API</code> 没有变化</p><p>4x 使用了函数式编程的方式，从而更好的结合 <code>Composition API</code></p><h2 id="创建-router-实例" tabindex="-1">创建 router 实例 <a class="header-anchor" href="#创建-router-实例" aria-label="Permalink to &quot;创建 router 实例&quot;">​</a></h2><blockquote><p>hash 模式使用 <code>createWebHashHistory()</code> 方法</p><p>history 模式使用 <code>createWebHistory()</code>方法</p><p>之前 component 引入组件的时候，后边可以省略 .vue 后缀，但在 vue-router 4 这不能省略后缀，否则就报错了</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// router.js</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">createRouter</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">createWebHashHistory</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;vue-router&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">routes</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> [</span></span>
<span class="line"><span style="color:#ABB2BF;">  {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;/&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;Login&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#61AFEF;">component</span><span style="color:#ABB2BF;">: () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">import</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;../components/login.vue&#39;</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">  {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;/reg&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;Reg&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#61AFEF;">component</span><span style="color:#ABB2BF;">: () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">import</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;../components/reg.vue&#39;</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">export</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">default</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">createRouter</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">history</span><span style="color:#ABB2BF;">: </span><span style="color:#61AFEF;">createWebHashHistory</span><span style="color:#ABB2BF;">(),</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">routes</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>在 main.js 注册路由</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// main.js</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">createApp</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;vue&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">App</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;./App.vue&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">router</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;./router&#39;</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// 引入router</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">createApp</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">App</span><span style="color:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#ABB2BF;">  .</span><span style="color:#61AFEF;">use</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">router</span><span style="color:#ABB2BF;">) </span><span style="color:#7F848E;font-style:italic;">// 使用router</span></span>
<span class="line"><span style="color:#ABB2BF;">  .</span><span style="color:#61AFEF;">mount</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;#app&#39;</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="路由组件" tabindex="-1">路由组件 <a class="header-anchor" href="#路由组件" aria-label="Permalink to &quot;路由组件&quot;">​</a></h2><p>4x 路由组件并没有什么变化，还是与之前的使用方法一致 在模版中也可以直接进行使用</p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">template</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">router-link</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">to</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;/&quot;</span><span style="color:#ABB2BF;">&gt;去登录&lt;/</span><span style="color:#E06C75;">router-link</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">router-link</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">to</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;/reg&quot;</span><span style="color:#ABB2BF;">&gt;去注册&lt;/</span><span style="color:#E06C75;">router-link</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">router-link</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">:to</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;{ name: &#39;/&#39;, params: { userId: 123 }}&quot;</span><span style="color:#ABB2BF;">&gt;去登录&lt;/</span><span style="color:#E06C75;">router-link</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">router-link</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">:to</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;{ name: &#39;reg&#39; }&quot;</span><span style="color:#ABB2BF;">&gt;去注册&lt;/</span><span style="color:#E06C75;">router-link</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">hr</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  {{ $router }} {{ $route }}</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">router-view</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">router-view</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">template</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="router-api-编程式导航" tabindex="-1"><code>Router API</code> 编程式导航 <a class="header-anchor" href="#router-api-编程式导航" aria-label="Permalink to &quot;`Router API` 编程式导航&quot;">​</a></h2><p>router4x 大部分的 API 并没有变化和以前一样</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 字符串路径</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;/users/eduardo&#39;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 带有路径的对象</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;/users/eduardo&#39;</span><span style="color:#ABB2BF;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 命名的路由，并加上参数，让路由建立 url</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;user&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">params</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">username</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;eduardo&#39;</span><span style="color:#ABB2BF;"> } });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 带查询参数，结果是 /register?plan=private</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;/register&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">query</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">plan</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;private&#39;</span><span style="color:#ABB2BF;"> } });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 带 hash，结果是 /about#team</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;/about&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">hash</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;#team&#39;</span><span style="color:#ABB2BF;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">username</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;eduardo&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 我们可以手动建立 url，但我们必须自己处理编码</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">`/user/</span><span style="color:#C678DD;">${</span><span style="color:#E06C75;">username</span><span style="color:#C678DD;">}</span><span style="color:#98C379;">`</span><span style="color:#ABB2BF;">); </span><span style="color:#7F848E;font-style:italic;">// -&gt; /user/eduardo</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 同样</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">`/user/</span><span style="color:#C678DD;">${</span><span style="color:#E06C75;">username</span><span style="color:#C678DD;">}</span><span style="color:#98C379;">`</span><span style="color:#ABB2BF;"> }); </span><span style="color:#7F848E;font-style:italic;">// -&gt; /user/eduardo</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 如果可能的话，使用 `name` 和 `params` 从自动 URL 编码中获益</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;user&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">params</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">username</span><span style="color:#ABB2BF;"> } }); </span><span style="color:#7F848E;font-style:italic;">// -&gt; /user/eduardo</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// `params` 不能与 `path` 一起使用</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;/user&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">params</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">username</span><span style="color:#ABB2BF;"> } }); </span><span style="color:#7F848E;font-style:italic;">// -&gt; /user</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="vue-router-4-的变化" tabindex="-1"><code>Vue Router 4</code> 的变化 <a class="header-anchor" href="#vue-router-4-的变化" aria-label="Permalink to &quot;`Vue Router 4` 的变化&quot;">​</a></h2><h2 id="vue-rouer-与-setup" tabindex="-1"><code>Vue Rouer</code> 与 <code>setup</code> <a class="header-anchor" href="#vue-rouer-与-setup" aria-label="Permalink to &quot;`Vue Rouer` 与 `setup`&quot;">​</a></h2><p>vue3 的 setup 中并不能访问 this，所有推出了一些 <code>hook</code> 函数， 使用这些函数就可以获取到 <code>router</code>、<code>route</code> 的实例, 下面说说两个最常用的 <code>hook</code> 函数<code>useRouter()</code>、<code>useRoute()</code></p><h3 id="userouter" tabindex="-1"><code>useRouter()</code> <a class="header-anchor" href="#userouter" aria-label="Permalink to &quot;`useRouter()`&quot;">​</a></h3><p>vue2 在组件中访问全局路由实例都是 <code>this.$router</code>，而在 vue3 你需要使用 <code>useRouter()</code> 访问全局路由实例</p><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">setup</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">useRouter</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;vue-router&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">useRouter</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">router</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 方式一：字符串形式 path</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">url</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 方式二：对象形式 path</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">url</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="useroute" tabindex="-1"><code>useRoute()</code> <a class="header-anchor" href="#useroute" aria-label="Permalink to &quot;`useRoute()`&quot;">​</a></h3><p>显而易见 <code>this.$route</code> 转换到 vue3 就是 <code>useRoute()</code> 获取当前的路由对象</p><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">setup</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">useRoute</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;vue-router&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">route</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">useRoute</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#E5C07B;">console</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">log</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">route</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#61AFEF;">watch</span><span style="color:#ABB2BF;">(</span></span>
<span class="line"><span style="color:#ABB2BF;">  () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">route</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  (</span><span style="color:#E06C75;font-style:italic;">val</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">// 逻辑代码</span></span>
<span class="line"><span style="color:#ABB2BF;">    ...</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="其他-hook-函数" tabindex="-1">其他 <code>hook</code> 函数 <a class="header-anchor" href="#其他-hook-函数" aria-label="Permalink to &quot;其他 `hook` 函数&quot;">​</a></h3><blockquote><p><code>onBeforeRouteLeave</code> --在当前位置的组件将要离开时触发</p><p><code>onBeforeRouteUpdate</code> -- 在当前位置即将更新时触发</p></blockquote><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">template</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">h1</span><span style="color:#ABB2BF;">&gt;{{ userData }}&lt;/</span><span style="color:#E06C75;">h1</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">template</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">setup</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">lang</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;ts&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">ref</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;vue&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">import</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">onBeforeRouteLeave</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">onBeforeRouteUpdate</span><span style="color:#ABB2BF;"> } </span><span style="color:#C678DD;">from</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;vue-router&#39;</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">userData</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">ref</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD;">async</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">function</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">fetchUser</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">id</span><span style="color:#ABB2BF;">: </span><span style="color:#E5C07B;">number</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">?</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">:</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">-</span><span style="color:#D19A66;">1</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">onBeforeRouteLeave</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">to</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">from</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">answer</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">window</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">confirm</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;you have unsaved changes!&#39;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> (</span><span style="color:#56B6C2;">!</span><span style="color:#E06C75;">answer</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">false</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">onBeforeRouteUpdate</span><span style="color:#ABB2BF;">(</span><span style="color:#C678DD;">async</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">to</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">from</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">to</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">params</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">id</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">!==</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">from</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">params</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">id</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E5C07B;">userData</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">value</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">await</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">fetchUser</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">to</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">params</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">id</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">script</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>了解更多可以去官网查看。<a href="https://router.vuejs.org/zh/api/#Functions" target="_blank" rel="noreferrer"><strong>点击前往=&gt;</strong></a></p><h2 id="vue-router-4-的变化-1" tabindex="-1">Vue Router 4 的变化 <a class="header-anchor" href="#vue-router-4-的变化-1" aria-label="Permalink to &quot;Vue Router 4 的变化&quot;">​</a></h2><h3 id="history-替代了-mode" tabindex="-1">history 替代了 mode <a class="header-anchor" href="#history-替代了-mode" aria-label="Permalink to &quot;history 替代了 mode&quot;">​</a></h3><p>这样可以更好的创建路由实例，并自定义这个实例</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">createRouter</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">history</span><span style="color:#ABB2BF;">: </span><span style="color:#61AFEF;">createWebHashHistory</span><span style="color:#ABB2BF;">(),</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">routes</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;">    {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;/&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;home&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#61AFEF;">component</span><span style="color:#ABB2BF;">: () </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">import</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;./components/Home.Vue&#39;</span><span style="color:#ABB2BF;">),</span></span>
<span class="line"><span style="color:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#ABB2BF;">  ],</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="createwebhistory-base" tabindex="-1">createWebHistory(base) <a class="header-anchor" href="#createwebhistory-base" aria-label="Permalink to &quot;createWebHistory(base)&quot;">​</a></h4><p>创建一个 HTML5 历史，即单页面应用程序中最常见的历史记录</p><p>base 为可选参数，当应用程序被托管在非站点根目录文件夹中，诸如 <code>https://example.com/folder/</code> 之类时非常有用</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 没有 base，应用托管在域名 https://example.com 的根目录下。</span></span>
<span class="line"><span style="color:#61AFEF;">createWebHistory</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 给出的网址为 https://example.com/folder/`</span></span>
<span class="line"><span style="color:#61AFEF;">createWebHistory</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;/folder/&#39;</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="createwebhashhistory-base" tabindex="-1">createWebHashHistory(base) <a class="header-anchor" href="#createwebhashhistory-base" aria-label="Permalink to &quot;createWebHashHistory(base)&quot;">​</a></h4><p>创建一个 hash 历史记录。</p><p>对于没有主机的 web 应用程序 (例如 <code>file://</code>)，或当配置服务器不能处理任意 URL 时这非常有用</p><p><strong>注意：如果 SEO 对你很重要，你应该使用 createWebHistory</strong></p><p>提供一个可选的 base，默认是 <code>location.pathname + location.search</code>。如果 <code>head</code> 中有一个 <code>&lt;base&gt;</code>，它的值将被忽略，而采用这个参数。<strong>但请注意它会影响所有的 history.pushState() 调用</strong>，这意味着如果你使用一个 <code>&lt;base&gt;</code> 标签，它的 <code>href</code> 值<strong>必须与这个参数相匹配</strong> (请忽略 <code>#</code> 后面的所有内容)</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// at https://example.com/folder</span></span>
<span class="line"><span style="color:#61AFEF;">createWebHashHistory</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 给出的网址为 https://example.com/folder#</span></span>
<span class="line"><span style="color:#61AFEF;">createWebHashHistory</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;/folder/&#39;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 给出的网址为 https://example.com/folder/#</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 如果在 base 中提供了 `#`，则它不会被 createWebHashHistory 添加</span></span>
<span class="line"><span style="color:#61AFEF;">createWebHashHistory</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;/folder/#/app/&#39;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 给出的网址为 https://example.com/folder/#/app/</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 你应该避免这样做，因为它会更改原始 url 并打断正在复制的 url</span></span>
<span class="line"><span style="color:#61AFEF;">createWebHashHistory</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;/other-folder/&#39;</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 给出的网址为 https://example.com/other-folder/#</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// at file:///usr/etc/folder/index.html</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 对于没有 `host` 的位置，base被忽略</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 给出的网址为 file:///usr/etc/folder/index.html#</span></span>
<span class="line"><span style="color:#61AFEF;">createWebHashHistory</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;/iAmIgnored&#39;</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="creatememoryhistory-base" tabindex="-1">createMemoryHistory(base) <a class="header-anchor" href="#creatememoryhistory-base" aria-label="Permalink to &quot;createMemoryHistory(base)&quot;">​</a></h4><p>创建一个基于内存的历史记录。这个历史记录的主要目的是处理 SSR。它在一个特殊的位置开始，这个位置无处不在。如果用户不在浏览器上下文中，它们可以通过调用 <code>router.push()</code> 或 <code>router.replace()</code> 将该位置替换为启动位置。</p><p>Base 适用于所有 URL，默认为&#39;/&#39;</p><h3 id="通配符-被移除" tabindex="-1">通配符*被移除 <a class="header-anchor" href="#通配符-被移除" aria-label="Permalink to &quot;通配符\*被移除&quot;">​</a></h3><p>现在必须使用自定义的 regex 参数来定义所有路由(<code>*</code>、<code>/*</code>)：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">routes</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> [</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// pathMatch 是参数的名称，例如，跳转到 /not/found 会得到</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// { params: { params: { pathMatch: [&#39;not&#39;, &#39;found&#39;] }}</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 这要归功于最后一个 *，意思是重复的参数，如果你</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 打算直接使用未匹配的路径名称导航到该路径，这是必要的</span></span>
<span class="line"><span style="color:#ABB2BF;">  { </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;/:pathMatch(.*)*&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;not-found&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">component</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">NotFound</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 如果你省略了最后的 `*`，在解析或跳转时，参数中的 `/` 字符将被编码</span></span>
<span class="line"><span style="color:#ABB2BF;">  { </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;/:pathMatch(.*)&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;bad-not-found&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">component</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">NotFound</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">];</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 如果使用命名路由，不好的例子：</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">resolve</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;bad-not-found&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">params</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">pathMatch</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;not/found&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">}).</span><span style="color:#E06C75;">href</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// &#39;/not%2Ffound&#39;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 好的例子:</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">resolve</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;not-found&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">params</span><span style="color:#ABB2BF;">: { </span><span style="color:#E06C75;">pathMatch</span><span style="color:#ABB2BF;">: [</span><span style="color:#98C379;">&#39;not&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;found&#39;</span><span style="color:#ABB2BF;">] },</span></span>
<span class="line"><span style="color:#ABB2BF;">}).</span><span style="color:#E06C75;">href</span><span style="color:#ABB2BF;">; </span><span style="color:#7F848E;font-style:italic;">// &#39;/not/found&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="isready-替代-onready" tabindex="-1">isReady() 替代 onReady() <a class="header-anchor" href="#isready-替代-onready" aria-label="Permalink to &quot;isReady() 替代 onReady()&quot;">​</a></h3><p><strong>这个方法用于底层的服务端渲染</strong></p><p>当路由器完成初始化导航时，返回一个 Promise，这意味着它已经解析了所有与初始路由相关的异步输入钩子和异步组件。</p><p>如果初始导航已经发生了，那么 promise 就会立即解析。</p><p>这在服务器端渲染中很有用，可以确保服务器和客户端的输出一致。</p><p>需要注意的是，在服务器端，你需要手动推送初始位置，而在客户端，路由器会自动从 URL 中获取初始位置。</p><p>当路由器完成初始化导航时，返回一个 Promise，这意味着它已经解析了所有与初始路由相关的异步输入钩子和异步组件。</p><p>如果初始导航已经发生了，那么 promise 就会立即解析。</p><p>这在服务器端渲染中很有用，可以确保服务器和客户端的输出一致。</p><p>需要注意的是，在服务器端，你需要手动推送初始位置，而在客户端，路由器会自动从 URL 中获取初始位置。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 将</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">onReady</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">onSuccess</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">onError</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 替换成</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">isReady</span><span style="color:#ABB2BF;">().</span><span style="color:#61AFEF;">then</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">onSuccess</span><span style="color:#ABB2BF;">).</span><span style="color:#61AFEF;">catch</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">onError</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 或者使用 await:</span></span>
<span class="line"><span style="color:#C678DD;">try</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">await</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">isReady</span><span style="color:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 成功</span></span>
<span class="line"><span style="color:#ABB2BF;">} </span><span style="color:#C678DD;">catch</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">err</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">// 报错</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="scrollbehavior" tabindex="-1">scrollBehavior <a class="header-anchor" href="#scrollbehavior" aria-label="Permalink to &quot;scrollBehavior&quot;">​</a></h3><p>使用前端路由，当切换到新路由时，想要页面滚到顶部，或者是保持原先的滚动位置，就像重新加载页面那样。 vue-router 能做到，而且更好，它让你可以自定义路由切换时页面如何滚动。</p><p>当创建一个 Router 实例，你可以提供一个 <code>scrollBehavior</code> 方法：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">createRouter</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">history</span><span style="color:#ABB2BF;">: </span><span style="color:#61AFEF;">createWebHashHistory</span><span style="color:#ABB2BF;">(),</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#E06C75;">routes</span><span style="color:#ABB2BF;">: [...],</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">scrollBehavior</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">to</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">from</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">savedPosition</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#7F848E;font-style:italic;">// return 期望滚动到哪个的位置</span></span>
<span class="line"><span style="color:#ABB2BF;">  }</span></span>
<span class="line"><span style="color:#ABB2BF;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>例子：</p><p>返回 <code>savedPosition</code>，在按下 后退/前进 按钮时，就会像浏览器的原生表现那样滚到之前的位置，而不是跳到页面顶部</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#61AFEF;">createRouter</span><span style="color:#ABB2BF;">({</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#61AFEF;">scrollBehavior</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;font-style:italic;">to</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">from</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">savedPosition</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#C678DD;">if</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;">savedPosition</span><span style="color:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">savedPosition</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">    } </span><span style="color:#C678DD;">else</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> { </span><span style="color:#E06C75;">top</span><span style="color:#ABB2BF;">: </span><span style="color:#D19A66;">0</span><span style="color:#ABB2BF;"> };</span></span>
<span class="line"><span style="color:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="router-view-的-v-slot" tabindex="-1"><code>&lt;router-view&gt;</code> 的 <code>&lt;v-slot&gt;</code> <a class="header-anchor" href="#router-view-的-v-slot" aria-label="Permalink to &quot;`&lt;router-view&gt;` 的 `&lt;v-slot&gt;`&quot;">​</a></h3><p>现在 keep-alive 和 transition 必须用在 router-view 内部</p><p><code>&lt;router-view&gt;</code> 暴露了一个 <code>v-slot</code> API，主要使用 <code>&lt;transition&gt;</code> 和 <code>&lt;keep-alive&gt;</code> 组件来包裹你的路由组件</p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;">&lt;!-- 以前的写法  --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">keep-alive</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">transition</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">router-view</span><span style="color:#ABB2BF;">&gt;&lt;/</span><span style="color:#E06C75;">router-view</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;/</span><span style="color:#E06C75;">transition</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">keep-alive</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">&lt;!-- 现在的写法 --&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">&lt;!-- 通过v-slot获取内部的组件和路由 --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">router-view</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">v-slot</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;{ Component, route }&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#7F848E;font-style:italic;">&lt;!-- 路由的meta内属性绑定过度行为 --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">transition</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">:name</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;route.meta.transition || &#39;fade&#39;&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">mode</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;out-in&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">keep-alive</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#7F848E;font-style:italic;">&lt;!-- 通过:is动态渲染组件到keep-alive内部 --&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">      &lt;</span><span style="color:#E06C75;">component</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">:is</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;Component&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">:key</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;route.meta.usePathKey ? route.path : undefined&quot;</span><span style="color:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;">keep-alive</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;/</span><span style="color:#E06C75;">transition</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">router-view</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="router-link-移除的属性" tabindex="-1">router-link 移除的属性 <a class="header-anchor" href="#router-link-移除的属性" aria-label="Permalink to &quot;router-link 移除的属性&quot;">​</a></h3><h4 id="append" tabindex="-1">append <a class="header-anchor" href="#append" aria-label="Permalink to &quot;append&quot;">​</a></h4><p>移除 append —— 可以手动将值设置到现有的 <code>path</code> 中</p><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#ABB2BF;">将</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">router-link</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">to</span><span style="color:#ABB2BF;">=</span><span style="color:#98C379;">&quot;child-route&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">append</span><span style="color:#ABB2BF;">&gt;to relative child&lt;/</span><span style="color:#E06C75;">router-link</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">替换成</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">router-link</span><span style="color:#ABB2BF;"> :</span><span style="color:#D19A66;">to</span><span style="color:#ABB2BF;">=</span><span style="color:#ABB2BF;">&quot;</span><span style="color:#61AFEF;">append</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">$route</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;child-route&#39;</span><span style="color:#ABB2BF;">)</span><span style="color:#ABB2BF;">&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  to relative child</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">router-link</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>你必须在 <em>App</em> 实例上定义一个全局的 <code>append</code> 函数：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#E5C07B;">app</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">config</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">globalProperties</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">append</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> (</span><span style="color:#E06C75;font-style:italic;">path</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;font-style:italic;">pathToAppend</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#ABB2BF;">  </span><span style="color:#C678DD;">return</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> (</span><span style="color:#E5C07B;">path</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">endsWith</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;/&#39;</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">?</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;"> </span><span style="color:#C678DD;">:</span><span style="color:#ABB2BF;"> </span><span style="color:#98C379;">&#39;/&#39;</span><span style="color:#ABB2BF;">) </span><span style="color:#56B6C2;">+</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">pathToAppend</span><span style="color:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#ABB2BF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="tag-event" tabindex="-1">tag/event <a class="header-anchor" href="#tag-event" aria-label="Permalink to &quot;tag/event&quot;">​</a></h4><p>tag 属性是定义 router-link 渲染结果的标签，由于不再是 a 标签，点击没了跳转，所以需要事件触发</p><p>现在<code>&lt;router-link&gt;</code> 中的 <code>event</code> 和 <code>tag</code> 属性都已被删除。可以使用 <a href="https://link.juejin.cn?target=https%3A%2F%2Fnext.router.vuejs.org%2Fzh%2Fapi%2F%23router-link-s-v-slot" title="https://next.router.vuejs.org/zh/api/#router-link-s-v-slot" target="_blank" rel="noreferrer"><code>v-slot</code> API</a> 来完全定制 <code>&lt;router-link&gt;</code>：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#E06C75;">将</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">router-link</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">to</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;/about&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">tag</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;span&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">event</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;dblclick&quot;</span><span style="color:#ABB2BF;">&gt;About Us&lt;/</span><span style="color:#E5C07B;">router-link</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#E06C75;">替换成</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E5C07B;">router-link</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">to</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;/about&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">custom</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">v-slot</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;{ navigate }&quot;</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">  &lt;</span><span style="color:#E06C75;">span</span><span style="color:#ABB2BF;"> </span><span style="color:#FFFFFF;">@click=&quot;navigate&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#FFFFFF;">@keypress.enter=&quot;navigate&quot;</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;font-style:italic;">role</span><span style="color:#56B6C2;">=</span><span style="color:#98C379;">&quot;link&quot;</span><span style="color:#ABB2BF;">&gt;About Us&lt;/</span><span style="color:#E06C75;">span</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E5C07B;">router-link</span><span style="color:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="exact" tabindex="-1">exact <a class="header-anchor" href="#exact" aria-label="Permalink to &quot;exact&quot;">​</a></h4><p>现在完全匹配逻辑简化，特殊的业务逻辑由用户自己解决，如想自定义这种行为，例如考虑到 <code>hash</code> 部分，应该使用 <a href="https://link.juejin.cn?target=https%3A%2F%2Fnext.router.vuejs.org%2Fapi%2F%23router-link-s-v-slot" title="https://next.router.vuejs.org/api/#router-link-s-v-slot" target="_blank" rel="noreferrer"><code>v-slot</code> API</a> 来扩展<code>&lt;router-link&gt;</code>。</p><h3 id="mixins-中的路由守卫将被忽略" tabindex="-1">mixins 中的路由守卫将被忽略 <a class="header-anchor" href="#mixins-中的路由守卫将被忽略" aria-label="Permalink to &quot;mixins 中的路由守卫将被忽略&quot;">​</a></h3><h3 id="resolve-替代-match" tabindex="-1">resolve 替代 match <a class="header-anchor" href="#resolve-替代-match" aria-label="Permalink to &quot;resolve 替代 match&quot;">​</a></h3><p><code>router.match</code> 和 <code>router.resolve</code> 已合并到 <code>router.resolve</code> 中，签名略有不同</p><p><strong>原因</strong>：将用于同一目的的多种方法统一起来。</p><p>router.resolve()返回<a href="https://link.juejin.cn?target=https%3A%2F%2Fnext.router.vuejs.org%2Fzh%2Fapi%2F%23routelocationraw" title="https://next.router.vuejs.org/zh/api/#routelocationraw" target="_blank" rel="noreferrer">路由地址</a>的<a href="https://link.juejin.cn?target=https%3A%2F%2Fnext.router.vuejs.org%2Fzh%2Fapi%2F%23routelocation" title="https://next.router.vuejs.org/zh/api/#routelocation" target="_blank" rel="noreferrer">标准化版本</a>。还包括一个包含任何现有 <code>base</code> 的 <code>href</code> 属性。</p><h3 id="移除-router-getmatchedcomponents" tabindex="-1">移除 router.getMatchedComponents() <a class="header-anchor" href="#移除-router-getmatchedcomponents" aria-label="Permalink to &quot;移除 router.getMatchedComponents()&quot;">​</a></h3><p>这个方法现在被删除了，因为匹配的组件可以从 <code>router.currentRoute.value.mixed</code> 中获取：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">currentRoute</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">value</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">matched</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">flatMap</span><span style="color:#ABB2BF;">((</span><span style="color:#E06C75;font-style:italic;">record</span><span style="color:#ABB2BF;">) </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">Object</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">values</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">record</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">components</span><span style="color:#ABB2BF;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>原因</strong>：这个方法只在 SSR 中使用，并且是用户一行就能完成的操作。</p><h3 id="包括首屏导航在内的所有导航均为异步" tabindex="-1">包括首屏导航在内的所有导航均为异步 <a class="header-anchor" href="#包括首屏导航在内的所有导航均为异步" aria-label="Permalink to &quot;包括首屏导航在内的所有导航均为异步&quot;">​</a></h3><p>所有的导航，包括第一个导航，现在都是异步的，这意味着，如果使用一个 <code>transition</code>，可能需要等待路由 <em>ready</em> 好后再挂载程序：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#E5C07B;">app</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">use</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">router</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">isReady</span><span style="color:#ABB2BF;">().</span><span style="color:#61AFEF;">then</span><span style="color:#ABB2BF;">(() </span><span style="color:#C678DD;">=&gt;</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">app</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">mount</span><span style="color:#ABB2BF;">(</span><span style="color:#98C379;">&#39;#app&#39;</span><span style="color:#ABB2BF;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>如果首屏存在路由守卫，则可以不等待就绪直接挂载，产生结果将和 vue2 相同</p></blockquote><h3 id="移除-route-的-parent-属性" tabindex="-1">移除 route 的 parent 属性 <a class="header-anchor" href="#移除-route-的-parent-属性" aria-label="Permalink to &quot;移除 route 的 parent 属性&quot;">​</a></h3><p><code>parent</code> 属性已从标准化路由地址（<code>this.$route</code> 和 <code>router.resolve</code> 返回的对象）中删除。你仍然可以通过 <code>matched</code> 数组访问它：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">parent</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">$route</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">matched</span><span style="color:#ABB2BF;">[</span><span style="color:#E5C07B;">this</span><span style="color:#ABB2BF;">.</span><span style="color:#E5C07B;">$route</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">matched</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">/</span><span style="color:#ABB2BF;"> </span><span style="color:#E06C75;">length</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;"> </span><span style="color:#D19A66;">2</span><span style="color:#ABB2BF;">];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>原因</strong>：同时存在 <code>parent</code> 和 <code>children</code> 会造成不必要的循环引用，而属性可以通过 <code>matched</code> 来检索</p><h3 id="history-state-的用法" tabindex="-1">history.state 的用法 <a class="header-anchor" href="#history-state-的用法" aria-label="Permalink to &quot;history.state 的用法&quot;">​</a></h3><p>Vue Router 将信息保存在 <code>history.state</code> 上。如果你有任何手动调用 <code>history.pushState()</code> 的代码，你应该避免它，或者用的 <code>router.push()</code> 和 <code>history.replaceState()</code> 进行重构：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 将</span></span>
<span class="line"><span style="color:#E5C07B;">history</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">pushState</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">myState</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">url</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 替换成</span></span>
<span class="line"><span style="color:#C678DD;">await</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">(</span><span style="color:#E06C75;">url</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#E5C07B;">history</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">replaceState</span><span style="color:#ABB2BF;">({ ...</span><span style="color:#E5C07B;">history</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">state</span><span style="color:#ABB2BF;">, ...</span><span style="color:#E06C75;">myState</span><span style="color:#ABB2BF;"> }, </span><span style="color:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>同样，如果你在调用 <code>history.replaceState()</code> 时没有保留当前状态，你需要传递当前 <code>history.state</code>：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 将</span></span>
<span class="line"><span style="color:#E5C07B;">history</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">replaceState</span><span style="color:#ABB2BF;">({}, </span><span style="color:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">url</span><span style="color:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 替换成</span></span>
<span class="line"><span style="color:#E5C07B;">history</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">replaceState</span><span style="color:#ABB2BF;">(</span><span style="color:#E5C07B;">history</span><span style="color:#ABB2BF;">.</span><span style="color:#E06C75;">state</span><span style="color:#ABB2BF;">, </span><span style="color:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">url</span><span style="color:#ABB2BF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="options-中需要配置-routes" tabindex="-1">options 中需要配置 routes <a class="header-anchor" href="#options-中需要配置-routes" aria-label="Permalink to &quot;options 中需要配置 routes&quot;">​</a></h3><p><strong>原因</strong>：路由的设计是为了创建路由，尽管你可以在以后添加它们。在大多数情况下，你至少需要一条路由，一般每个应用都会编写一次。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#61AFEF;">createRouter</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">routes</span><span style="color:#ABB2BF;">: [] });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="一些错误处理的变更" tabindex="-1">一些错误处理的变更 <a class="header-anchor" href="#一些错误处理的变更" aria-label="Permalink to &quot;一些错误处理的变更&quot;">​</a></h3><h4 id="跳转不存在的命名路由会报错" tabindex="-1">跳转不存在的命名路由会报错 <a class="header-anchor" href="#跳转不存在的命名路由会报错" aria-label="Permalink to &quot;跳转不存在的命名路由会报错&quot;">​</a></h4><p><code>router.push({ name: homee})</code></p><p><strong>原因</strong>：以前，路由会导航到 <code>/</code>，但不显示任何内容（而不是主页）。抛出一个错误更有意义，因为我们不能生成一个有效的 URL 进行导航</p><h4 id="缺少必填参数会抛出异常" tabindex="-1">缺少必填参数会抛出异常 <a class="header-anchor" href="#缺少必填参数会抛出异常" aria-label="Permalink to &quot;缺少必填参数会抛出异常&quot;">​</a></h4><p>在没有传递所需参数的情况下跳转或解析命名路由，会产生错误：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#7F848E;font-style:italic;">// 给与以下路由:</span></span>
<span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">routes</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> [{ </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;/users/:id&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;user&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">component</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">UserDetails</span><span style="color:#ABB2BF;"> }];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;">// 缺少 `id` 参数会失败</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">push</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;user&#39;</span><span style="color:#ABB2BF;"> });</span></span>
<span class="line"><span style="color:#E5C07B;">router</span><span style="color:#ABB2BF;">.</span><span style="color:#61AFEF;">resolve</span><span style="color:#ABB2BF;">({ </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;user&#39;</span><span style="color:#ABB2BF;"> });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="命名子路由如果-path-为空的时候不在追加" tabindex="-1">命名子路由如果 path 为空的时候不在追加 / <a class="header-anchor" href="#命名子路由如果-path-为空的时候不在追加" aria-label="Permalink to &quot;命名子路由如果 path 为空的时候不在追加 /&quot;">​</a></h4><p>给予任何空 <code>path</code> 的嵌套命名路由：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">routes</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> [</span></span>
<span class="line"><span style="color:#ABB2BF;">  {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;/dashboard&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;dashboard-parent&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">component</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">DashboardParent</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">children</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;">      { </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;dashboard&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">component</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">DashboardDefault</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">      { </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;settings&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;dashboard-settings&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">component</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">DashboardSettings</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">    ],</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>现在，导航或解析到命名的路由 <code>dashboard</code> 时，会产生一个<strong>不带斜线的 URL</strong>：</p><p><code>router.resolve({ name: &#39;dashboard&#39; }).href // &#39;/dashboard&#39;</code></p><p>这对子级 <code>redirect</code> 有重要的副作用，如下所示：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki one-dark-pro"><code><span class="line"><span style="color:#C678DD;">const</span><span style="color:#ABB2BF;"> </span><span style="color:#E5C07B;">routes</span><span style="color:#ABB2BF;"> </span><span style="color:#56B6C2;">=</span><span style="color:#ABB2BF;"> [</span></span>
<span class="line"><span style="color:#ABB2BF;">  {</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;/parent&#39;</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">component</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">Parent</span><span style="color:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#ABB2BF;">    </span><span style="color:#E06C75;">children</span><span style="color:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#ABB2BF;">      </span><span style="color:#7F848E;font-style:italic;">// 现在将重定向到 `/home` 而不是 `/parent/home`</span></span>
<span class="line"><span style="color:#ABB2BF;">      { </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">redirect</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;home&#39;</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">      { </span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;home&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#E06C75;">component</span><span style="color:#ABB2BF;">: </span><span style="color:#E06C75;">Home</span><span style="color:#ABB2BF;"> },</span></span>
<span class="line"><span style="color:#ABB2BF;">    ],</span></span>
<span class="line"><span style="color:#ABB2BF;">  },</span></span>
<span class="line"><span style="color:#ABB2BF;">];</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>请注意，如果 <code>path</code> 是 <code>/parent/</code>，这也可以，因为 <code>home</code> 到 <code>/parent/</code> 的相对地址确实是 <code>/parent/home</code>，但 <code>home</code> 到 <code>/parent</code> 的相对地址是 <code>/home</code>。</p><p><strong>原因</strong>：这是为了使尾部的斜线行为保持一致：默认情况下，所有路由都允许使用尾部的斜线。可以通过使用 <code>strict</code> 配置和手动添加(或不添加)斜线来禁用它。</p><h3 id="route-属性编码" tabindex="-1">$route 属性编码 <a class="header-anchor" href="#route-属性编码" aria-label="Permalink to &quot;$route 属性编码&quot;">​</a></h3><p>无论在哪里启动导航，<code>params</code>、<code>query</code>和 <code>hash</code> 中的解码值现在都是一致的（旧的浏览器仍然会产生未编码的 <code>path</code> 和 <code>fullPath</code>）。初始导航应产生与应用内部导航相同的结果。</p><ul><li>Path/fullpath 不再做解码</li><li>hash 会被解码</li><li>push、resolve 和 replace，字符串参数，或者对象参数 path 属性必须编码</li><li>params / 会被解码</li><li>query 中 + 不处理，之前会处理为 %2b，如需处理可以使用 stringifyQuery()</li></ul></div></div></main><footer class="VPDocFooter" data-v-11626981 data-v-1ae9d032><!--[--><!--]--><div class="edit-info" data-v-1ae9d032><!----><div class="last-updated" data-v-1ae9d032><p class="VPLastUpdated" data-v-1ae9d032 data-v-bd0b0e19>上次更新: <time datetime="2023-10-31T17:25:56.000Z" data-v-bd0b0e19></time></p></div></div><nav class="prev-next" data-v-1ae9d032><div class="pager" data-v-1ae9d032><a class="pager-link prev" href="/Vue/vuerouter" data-v-1ae9d032><span class="desc" data-v-1ae9d032>上一篇</span><span class="title" data-v-1ae9d032>Vue Router</span></a></div><div class="pager" data-v-1ae9d032><a class="pager-link next" href="/Vue/Vuex" data-v-1ae9d032><span class="desc" data-v-1ae9d032>下一篇</span><span class="title" data-v-1ae9d032>Vuex</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-1cbc827d data-v-f8dabcc9><div class="container" data-v-f8dabcc9><p class="message" data-v-f8dabcc9>如有转载或 CV 的请标注本站原文地址</p><p class="copyright" data-v-f8dabcc9>Copyright © 2019-present maomao</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"html_index.md\":\"71c5d2ab\",\"backend_koa2中间件.md\":\"292c1bb3\",\"backend_mongodb.md\":\"9353ffd7\",\"backend_mysql.md\":\"4d2c5af3\",\"backend_express.md\":\"457aca6d\",\"backend_index.md\":\"79697d8c\",\"buildtools_webpack.md\":\"ce6f0a7e\",\"buildtools_index.md\":\"35b3e7d9\",\"css_scss.md\":\"75b4ef37\",\"css_index.md\":\"42114365\",\"index.md\":\"8f8eea0d\",\"notes_油猴api文档.md\":\"35f4ae31\",\"uni-app_index.md\":\"76122982\",\"nav_index.md\":\"2a2e5fc0\",\"notes_index.md\":\"db106c13\",\"buildtools_monorepo.md\":\"e4da5307\",\"javascript_数据类型.md\":\"d90af059\",\"vue_vue3.md\":\"a6db73f0\",\"miscellaneous_git_git命令合集-加强版.md\":\"7229fb22\",\"javascript_类型转换.md\":\"1c3fa990\",\"javascript_数据类型的拷贝.md\":\"7ab8cd3d\",\"miscellaneous_git_github自动化部署.md\":\"21224d8f\",\"javascript_继承.md\":\"d5d9aab5\",\"typescript_基础.md\":\"a30e39c1\",\"buildtools_rollup.md\":\"8d264af6\",\"buildtools_vite.md\":\"363f5937\",\"javascript_javascript基础-04.md\":\"661d7673\",\"javascript_原型和原型链.md\":\"a1565b14\",\"typescript_工程.md\":\"7900374a\",\"vue_vuerouter.md\":\"7d325ff0\",\"miscellaneous_浏览器知识.md\":\"08d29633\",\"react_react.md\":\"35b28631\",\"miscellaneous_git_git.md\":\"16e101db\",\"miscellaneous_index.md\":\"6389ce2c\",\"miscellaneous_vitepress.md\":\"5506cd09\",\"tools_axios.md\":\"5cb82bbb\",\"tools_index.md\":\"f6403183\",\"tools_lodash.md\":\"710008cf\",\"css_css.md\":\"647ba91e\",\"uni-app_uni-app基础.md\":\"5d53d15a\",\"vue_vue2.md\":\"7b2866e3\",\"typescript_ts体操.md\":\"0a24e4b9\",\"typescript_index.md\":\"7956429d\",\"typescript_可看.md\":\"37e06d97\",\"typescript_实用工具类型.md\":\"bf995c72\",\"react_redux.md\":\"ef568928\",\"vue_vuex.md\":\"df944bfc\",\"react_index.md\":\"66f548ca\",\"javascript_es6-11.md\":\"0a2a10cc\",\"typescript_进阶.md\":\"a5206241\",\"miscellaneous_git_git命令合集.md\":\"be206053\",\"javascript_ajax.md\":\"96b282bd\",\"javascript_javascript基础-01.md\":\"b25d585e\",\"javascript_javascript基础-02.md\":\"50f4eb8c\",\"react_reactrouter.md\":\"e85384f9\",\"javascript_javascript基础-06.md\":\"0bdd5c22\",\"html_常用语义化标签.md\":\"325f5e0b\",\"javascript_javascript基础-03.md\":\"4ff88761\",\"javascript_index.md\":\"231562c9\",\"javascript_jquery.md\":\"55c28862\",\"typescript_开始.md\":\"68005a28\",\"typescript_简介.md\":\"588cf3a3\",\"vue_index.md\":\"64065cd3\",\"backend_node.md\":\"1c5f3a8b\",\"javascript_javascript基础-05.md\":\"81cde1e5\",\"vue_vuerouter4.md\":\"2318b9ce\",\"vue_pinia.md\":\"0808094c\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"崽崽哟 | (っ´Ι`)っ\",\"description\":\"崽崽的成长之路，包含前端常用知识、源码阅读笔记、各种奇淫技巧、日常提效工具等\",\"base\":\"/\",\"head\":[],\"appearance\":\"dark\",\"themeConfig\":{\"nav\":[{\"text\":\"导航->\",\"link\":\"/nav/\"},{\"text\":\"随笔记\",\"items\":[{\"text\":\"油猴\",\"link\":\"/notes/油猴API文档.md\"}]},{\"text\":\"前端物语\",\"items\":[{\"text\":\"HTML\",\"link\":\"/HTML/\"},{\"text\":\"CSS\",\"link\":\"/CSS/\"},{\"text\":\"JavaScript\",\"link\":\"/JavaScript/index.md\"},{\"text\":\"AJAX\",\"link\":\"/JavaScript/AJAX\"},{\"text\":\"jQuery\",\"link\":\"/JavaScript/jQuery\"},{\"text\":\"TypeScript\",\"link\":\"/TypeScript/\"},{\"text\":\"Vue\",\"link\":\"/Vue/\"},{\"text\":\"React\",\"link\":\"/React/\"},{\"text\":\"uni-app\",\"link\":\"/uni-app/index\"},{\"text\":\"Webpack\",\"link\":\"/Buildtools/Webpack.md\"},{\"text\":\"Vite\",\"link\":\"/Buildtools/Vite.md\"}]},{\"text\":\"工具物语\",\"items\":[{\"text\":\"lodash\",\"link\":\"/Tools/lodash\"},{\"text\":\"axios\",\"link\":\"/Tools/axios\"}]},{\"text\":\"后端.?node\",\"items\":[{\"text\":\"Node.js\",\"link\":\"/Backend/\"},{\"text\":\"数据库\",\"items\":[{\"text\":\"Mongodb\",\"link\":\"/Backend/Mongodb\"},{\"text\":\"MySQL\",\"link\":\"/Backend/MySQL\"}]}]},{\"text\":\"杂七杂八的知识或工具\",\"items\":[{\"text\":\"Git\",\"link\":\"/Miscellaneous/git/git.md\"},{\"text\":\"github自动化部署\",\"link\":\"/Miscellaneous/git/github自动化部署.md\"},{\"text\":\"npm/yran/pnpm\",\"link\":\"/npm/\"},{\"text\":\"Puppeteer\",\"link\":\"/Puppeteer/\"},{\"text\":\"VitePress\",\"link\":\"/Miscellaneous/vitepress.md\"},{\"text\":\"浏览器知识\",\"link\":\"/Miscellaneous/浏览器知识.md\"}]}],\"sidebar\":{\"/HTML/\":[{\"text\":\"HTML *\",\"items\":[{\"text\":\"常用语义化标签\",\"link\":\"/HTML/常用语义化标签.md\"}]}],\"/CSS/\":[{\"text\":\"CSS *\",\"items\":[{\"text\":\"CSS\",\"link\":\"/CSS/css\"},{\"text\":\"SCSS\",\"link\":\"/CSS/scss\"}]}],\"/JavaScript/\":[{\"text\":\"JavaScript 基础\",\"collapsed\":true,\"items\":[{\"text\":\"JavaScript基础-开篇\",\"link\":\"/JavaScript/JavaScript基础-01.md\"},{\"text\":\"JavaScript基础-2篇\",\"link\":\"/JavaScript/JavaScript基础-02.md\"},{\"text\":\"JavaScript基础-3篇\",\"link\":\"/JavaScript/JavaScript基础-03.md\"},{\"text\":\"JavaScript基础-4篇\",\"link\":\"/JavaScript/JavaScript基础-04.md\"},{\"text\":\"JavaScript基础-5篇\",\"link\":\"/JavaScript/JavaScript基础-05.md\"},{\"text\":\"JavaScript基础-6篇\",\"link\":\"/JavaScript/JavaScript基础-06.md\"}]},{\"text\":\"ES6+\",\"items\":[{\"text\":\"ES6-11\",\"link\":\"/JavaScript/es6-11\"}]},{\"text\":\"JS知识\",\"items\":[{\"text\":\"数据类型\",\"link\":\"/JavaScript/数据类型.md\"},{\"text\":\"数据类型的拷贝\",\"link\":\"/JavaScript/数据类型的拷贝.md\"},{\"text\":\"类型转换\",\"link\":\"/JavaScript/类型转换.md\"},{\"text\":\"原型和原型链\",\"link\":\"/JavaScript/原型和原型链.md\"},{\"text\":\"继承\",\"link\":\"/JavaScript/继承.md\"}]},{\"text\":\"AJAX\",\"link\":\"/JavaScript/AJAX\"},{\"text\":\"jQuery\",\"link\":\"/JavaScript/jQuery\"}],\"/TypeScript/\":[{\"text\":\"TypeScript *\",\"items\":[{\"text\":\"开始\",\"link\":\"/TypeScript/开始\"},{\"text\":\"简介\",\"link\":\"/TypeScript/简介.md\"},{\"text\":\"基础\",\"link\":\"/TypeScript/基础.md\"},{\"text\":\"进阶\",\"link\":\"/TypeScript/进阶.md\"},{\"text\":\"工程\",\"link\":\"/TypeScript/工程.md\"},{\"text\":\"可看\",\"link\":\"/TypeScript/可看.md\"}]},{\"text\":\"TS体操\",\"items\":[{\"text\":\"实用工具类型\",\"link\":\"/TypeScript/实用工具类型.md\"},{\"text\":\"综合\",\"link\":\"/TypeScript/TS体操.md\"}]}],\"/Buildtools/\":[{\"text\":\"构建工具\",\"items\":[{\"text\":\"Webpack\",\"link\":\"/Buildtools/Webpack.md\"},{\"text\":\"Vite\",\"link\":\"/Buildtools/Vite.md\"}]},{\"text\":\"工程化\",\"items\":[{\"text\":\"Monorepo\",\"link\":\"/Buildtools/Monorepo.md\"},{\"text\":\"Rollup\",\"link\":\"/Buildtools/Rollup.md\"}]}],\"/Vue/\":[{\"text\":\"Vue 全家桶\",\"items\":[{\"text\":\"Vue3\",\"link\":\"/Vue/Vue3\"},{\"text\":\"Vue2\",\"link\":\"/Vue/Vue2\"},{\"text\":\"Vue Router\",\"items\":[{\"text\":\"Vue Router\",\"link\":\"/Vue/vuerouter\"},{\"text\":\"Vue Router 4\",\"link\":\"/Vue/vuerouter4\"}]},{\"text\":\"Vuex\",\"link\":\"/Vue/Vuex\"},{\"text\":\"Pinia\",\"link\":\"/Vue/Pinia\"}]},{\"text\":\"Vue 工具库\",\"items\":[{\"text\":\"VueUse\",\"link\":\"VueUse\"}]}],\"/React/\":[{\"text\":\"React 全家桶\",\"items\":[{\"text\":\"React\",\"link\":\"/React/react\"},{\"text\":\"react Router\",\"link\":\"/React/reactRouter\"},{\"text\":\"Redux\",\"link\":\"/React/Redux\"}]}],\"/uni-app/\":[{\"text\":\"uni-app *\",\"items\":[{\"text\":\"uni-app 基础\",\"link\":\"/uni-app/uni-app基础\"}]}],\"/Tools/\":[{\"text\":\"工具物语\",\"items\":[{\"text\":\"lodash\",\"link\":\"/Tools/lodash\"},{\"text\":\"axios\",\"link\":\"/Tools/axios\"}]}],\"/Backend/\":[{\"text\":\"后端.?node\",\"items\":[{\"text\":\"Node\",\"link\":\"/Backend/Node\"},{\"text\":\"Koa 系列\",\"items\":[{\"text\":\"koa2 中间件\",\"link\":\"/Backend/Koa2中间件\"}]},{\"text\":\"express\",\"link\":\"/Backend/express\"}]},{\"text\":\"数据库\",\"items\":[{\"text\":\"Mongodb\",\"link\":\"/Backend/Mongodb\"},{\"text\":\"MySQL\",\"link\":\"/Backend/MySQL\"}]}],\"/Miscellaneous/\":[{\"text\":\"杂七杂八的知识或工具系列\",\"items\":[{\"text\":\"Git系列\",\"items\":[{\"text\":\"git 使用\",\"link\":\"/Miscellaneous/git/git使用.md\"},{\"text\":\"git命令合集\",\"link\":\"/Miscellaneous/git/git命令合集.md\"},{\"text\":\"git命令合集-加强版\",\"link\":\"/Miscellaneous/git/git命令合集-加强版.md\"},{\"text\":\"github自动化部署\",\"link\":\"/Miscellaneous/git/github自动化部署.md\"}]}]},{\"text\":\"浏览器知识\",\"link\":\"/Miscellaneous/浏览器知识.md\"}]},\"logo\":\"/logo.png\",\"i18nRouting\":false,\"outline\":{\"level\":\"deep\",\"label\":\"本页目录\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}],\"footer\":{\"message\":\"如有转载或 CV 的请标注本站原文地址\",\"copyright\":\"Copyright © 2019-present maomao\"},\"darkModeSwitchLabel\":\"外观\",\"returnToTopLabel\":\"返回顶部\",\"lastUpdatedText\":\"上次更新\",\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}");</script>
    
  </body>
</html>