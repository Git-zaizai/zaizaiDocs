# éšç¬”æ¡£æ¡ˆ


## `vue3` `sfc` å¤šä¸ª `<script lang="tsx">`

`vue3` å¯ä»¥æœ‰å¤šä¸ª `<script>` æ ‡ç­¾ï¼Œä½†æ˜¯å¿…é¡» `lang` çš„å±æ€§è¦ä¸€æ ·ï¼Œä¾‹å¦‚ï¼š

```vue
<script></script>

<script setup lang="tsx">
</script>
```

ä»¥ä¸Šè¿™æ ·æ˜¯ä¸å¯ä»¥çš„ï¼Œ`å¯ä»¥æ²¡æœ‰ä½†ä¸èƒ½ä¸ä¸€æ ·`ï¼Œå¦‚ä¸‹é¢å°±å¯ã€‚

```vue
<script lang="tsx"></script>

<script setup lang="tsx">
</script>
<template></template>
<script lang="tsx"></script>
```

é‚£ä¹ˆè¿™æ ·å­çš„æ„ä¹‰ä½•åœ¨ï¼Œç›®å‰æˆ‘è§‰å¾—å°±æ˜¯æ–¹ä¾¿äº† `å®šä¹‰ä¸€äº›å°ç»„ä»¶`

## tsconfig.json ä¸­çš„ `baseUrl`

::: tip
ä¸€èˆ¬åœ¨vscodeä¸­éƒ½å®‰è£…äº† `Path Intellisense` è¿™ä¸ªæ’ä»¶ï¼Œç„¶åç›´æ¥å®šä¹‰ `baseUrl` ä¸º `./` è¿™æ ·æ›´åŠ æ–¹ä¾¿
:::

ç„¶åæ¥ä¸‹æ¥ç›´æ¥è¿™æ ·

```json
{
  "compilerOptions": {
    "target": "ESNext",
    "baseUrl": "./",
    "paths": {
      "/": ["./docs/*"],
      "/~/*": ["./components/*"]
    },
  },
  "exclude": ["node_modules", ".vite"],
  "include": [
    "./env.d.ts",
    "./components/**/*.ts",
    "./components/*.ts",
    "./components/*.vue",
    "./.vitepress/**/*.ts",
    "./docs/**/**.ts"
  ]
}

```

## vueä»£ç†é—®é¢˜

ä¼—æ‰€å‘¨çŸ¥æœåŠ¡å™¨ä¸æœåŠ¡å™¨ä¹‹é—´æ˜¯æ²¡æœ‰è·¨åŸŸé—®é¢˜çš„

`vue cli` æˆ–è€… `vite` çš„ä»£ç†éƒ½æ˜¯é€šè¿‡æ‹¦æˆªè¯·æ±‚åï¼Œä½¿ç”¨æœ¬åœ°nodeè¯·æ±‚åˆ°åç«¯ï¼Œç„¶ååœ¨ä»åç«¯è¿”å›åˆ°nodeåœ¨è¿”å›åˆ°æµè§ˆå™¨

![ä»£ç†æµç¨‹](./img/ä»£ç†æµç¨‹.png)

çœ‹å›¾ï¼Œæ‰€ä»¥è¯·æ±‚æ˜¯éœ€è¦å‘é€åˆ° `3000ç«¯å£` æ‰å¯ä»¥è¢«æ‹¦æˆªåˆ°ï¼Œæ‰€ä»¥æŒ‰ç…§è¿™ä¸ªåŸç†

`ä»£ç†é…ç½®`:

``` ts
import { defineConfig, loadEnv } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig(configEnv => {
  return {
    plugins: [
      vue(),
    ],
    base: '/',
    server: {
      host: '0.0.0.0',
      port: 3000,
      proxy: {
        '/api': {
          target: 'https://www.xxxx.com',  // ç›®æ ‡åœ°å€
          changeOrigin: true,
          rewrite: (path) => {
            console.log("ğŸš€ ~ path:", path)
            return path.replace(/^\/api/, '')
          }
        }
      }
    },
  }
})
```

`axiosçš„baseURL:` æ˜¯éœ€è¦ç•™ç©ºçš„

``` ts
const request = axios.create({
	baseURL: '' // åç«¯åŸŸåæ¥å£
});
```

å½“ä½ å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæ¯”å¦‚ï¼š`https://www.xxxx.com/api/get/list` è¿™æ ·çš„æ¥å£æ—¶ï¼Œåœ¨å¼€æ”¾ç¯å¢ƒä¸‹ `baseURL`ç•™ç©ºï¼Œé‚£å‘å‡ºçš„è¯·æ±‚å°±æ˜¯ `http://localhost:3000/api/get/list` è¿™æ · `vite \ vue cli` æ‰èƒ½æ‹¦æˆªåˆ°è¯·æ±‚

::: danger åŸç†ï¼š
å¦‚æœä½ çš„ `baseURL` ä¸ç•™ç©ºï¼Œæµè§ˆå™¨å°±ç›´æ¥è¯·æ±‚äº† `https://www.xxxx.com/api/get/list`ï¼Œæ²¡æœ‰ç»è¿‡ `3000` ç«¯å£ï¼Œ`vite \ vue cli` æ‹¦æˆªä¸äº†æ‰€ä»¥å°±ä¼šä»£ç†å¤±è´¥
::: 

æ‹¦æˆªåˆ°è¯·æ±‚ä¼šæŠŠ `url` æ›¿æ¢ 

`http://localhost:3000/api/get/list` ==> `https://www.xxxx.com/api/get/list`

ç„¶åä½¿ç”¨nodeå‘é€è¯·æ±‚è¿™æ ·å°±ä¸ä¼šæœ‰è·¨åŸŸé—®é¢˜äº†



## vue2 è®©dataä¸­çš„å˜é‡ä¸è¿›è¡Œä»£ç†

å¸¸ç”¨æ–¹å¼

object.frezeeï¼Œobject.sealï¼Œobject.preventExtensionInfo æ–¹æ³•ï¼Œå¯èƒ½ç°ç›®å‰çœ‹èµ·æ¥æœ€åˆé€‚çš„æ–¹å¼

ç„¶åè¿˜æœ‰è¿™ä¸ªåœ¨ vue çš„å®˜ç½‘ä¸­æ˜¯è¿™æ ·æè¿°çš„
![](./img/è®©dataä¸­çš„å˜é‡ä¸è¿›è¡Œä»£ç†1.png)

```vue
<template>
    <div class="home-page">
        <span>{{_dataInfo}}</span>
        <span>{{$dataInfo}}</span>
        <span>{{dataInfo}}</span>
    </div>
</template>

<script>
    export default {
        name: 'home',
        data() {
            return {
                _dataInfo: '',
                $dataInfo: '',
                dataInfo: '',
            };
        },
        created() {
            this._dataInfo = { name: 'data' };
            this.$dataInfo = { name: 'data' };
            this.dataInfo = { name: 'data' };
        },
        mounted() {
            console.info(this._dataInfo);
            console.info(this.$dataInfo);
            console.info(this.dataInfo);
        },
    };
</script>
```
å±æ€§åç”¨_æˆ–è€…$,å› ä¸ºå¤æ‚å¯¹è±¡ä¼šè¢«ä»£ç†ï¼Œè€Œä¸”åœ¨ template ä¸­è¯»å–å¾ˆä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥å¹¶ä¸å»ºè®®ç”¨äºè¦æ˜¾ç¤ºçš„å­—æ®µï¼Œååˆ°æ˜¯ä¸€äº›ä¸éœ€è¦ä»£ç†å¹¶ä¸”éœ€è¦å…¨å±€ç¼“å­˜çš„å±æ€§ï¼Œå¦‚å…¨å±€è¦ç”¨çš„domå¯¹è±¡æˆ–echarts sç”¨è¿™ä¸ªåœ¨åˆé€‚ä¸è¿‡
